package lab05;

import java.util.List;

import lab05.Usuario.tipoUsuario;

public class Fachada {
	
	private List usuarios;
	
	
	public void vendeJogo(Usuario usuario, Jogo jogo){
	
		double valorCompra = calculaBeneficio(usuario, jogo.getPreco());
		
		if (valorCompra > usuario.dinheiro) {
			throw new Exception("Voce nao tem saldo suficiente");
		} else {
			usuario.dinheiro = usuario.dinheiro - valorCompra;
			jogosComprados.add(jogo);
		}
		
	}
		
	public double calculaBeneficio(Usuario usuario, double jogoPreco){
		double valorCompra;
			if (usuario.getTipo().equals(tipoUsuario.Veterano)) {
				valorCompra = jogoPreco * (1 - 0.2);
			} else {
				valorCompra = jogoPreco * (1 - 0.1);
			}
		
		return valorCompra;
	}
	
}
