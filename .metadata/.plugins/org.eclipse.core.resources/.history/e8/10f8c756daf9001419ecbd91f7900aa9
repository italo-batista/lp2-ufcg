package lab04;

import org.junit.Assert;
import org.junit.Test;
import org.junit.Before;

public class TestAlbum {
    
	Album cenaMuda;
	Album medulla;
	
	Musica submarine;
	Musica mouthsCradle;
	Musica oceania;
	Musica demoniaca;
	
	@Before
	public void setUp() throws Exception {
		
		Album medulla = new Album("Medulla", "Bjork", 2004);
		
		Musica submarine = new Musica("Submarine", 4, "Indie");
		Musica mouthsCradle = new Musica("Mouths Cradle", 5, "Indie");
		Musica oceania = new Musica("Oceania", 4, "Indie");

		Assert.assertEquals("Medulla", medulla.getTitulo());
		Assert.assertEquals("Bjork", medulla.getArtista());
		Assert.assertEquals(2004, medulla.getAnoLancamento());
		//Album cantoLivre = new Album("O Canto Livre", "Nara Leao", 1962);
	}
	
	@Test
	public void testAlbumInvalido() {
			
		try {
			Album cantoLivre = new Album("", "Nara Leao", 1962);
			Assert.fail();
		} catch (Exception e) {
			Assert.assertEquals("Nao e possivel cadastrar album sem titulo.", e.getMessage());
		}
		
		try {
			Album cantoLivre = new Album("O Canto Livre", "", 1962);
		} catch (Exception e) {
			Assert.assertEquals("Nao e possivel cadastrar album sem artista.", e.getMessage());
		}

		try {
			Album cantoLivre = new Album("O Canto Livre", "Nara Leao", -24);
		} catch (Exception e) {
			Assert.assertEquals("Nao e possivel cadastrar album sem artista.", e.getMessage());
		}

		
	}
	
	@Test
	public void testAddMusica() {
		
		Musica submarine = new Musica("Submarine", 4, "Indie");
		Musica mouthsCradle = new Musica("Mouths Cradle", 5, "Indie");
		Musica oceania = new Musica("Oceania", 4, "Indie");
		
		medulla.addMusica(oceania);
		medulla.addMusica(submarine);
		medulla.addMusica(mouthsCradle);			
			
		Assert.assertEquals(medulla.getAlbum().get(0).getNome(), "Oceania");
		Assert.assertEquals(medulla.getAlbum().get(1).getNome(), "Submarine");
		Assert.assertEquals(medulla.getAlbum().get(2).getNome(), "Mouths Cradle");
			
		Assert.assertEquals(14, medulla.getDuracaoTotal());
		
	}

	@Test
	public void testAlbunsIguais(){
		try {
			Album cenaMuda = new Album("A cena Muda", "Maria Bethania", 1974);
			Album aCenaMuda = new Album("A cena Muda", "Maria Bethania", 1974);
			
			Assert.assertTrue(cenaMuda.equals(aCenaMuda));
		} catch (Exception e) {
			Assert.fail();
		}	
	}
	
}
